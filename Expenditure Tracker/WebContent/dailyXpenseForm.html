<!DOCTYPE html>
<html>
	<head>
		<meta charset="ISO-8859-1">
		<title>Expenditure Check</title>	
	    <link rel="stylesheet" href="css/dailyXpenseForm.css">
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/fontawesome.min.css">
	    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	</head>
	
	<body>
		
		<h2>Your Daily Expenditure</h3>
		
		<!-- Use this form's values only to enter into the database
		dont store the total cost in database we will calculate it if user want to see while retrieving
		i have added name="ItemName"(check that in js code below) for every rows of the table so that u can get all the rows at a time 
		only store the values when user presses submit at the end  not when user keeps adding values to table  -->
		
	    <form id="output_form" action="DailyXpenseCalculate">
	     <span name="date" id="date"></span>
	        <table id="table">
	            <thead>
	                <th>The Items you enter appear here</th>
	            </thead>
	        </table>
	
	        <br>
	        <div id="totalAmt">
	            Total Price:<span id="total">0</span>
	            <br>
	            <br>
	            <h4>Please Press Submit After Calculating Daily Expense Of Each Day</h4>
	            
	            <button type="submit">Submit</button>
	        </div> 
	    </form>
	
	    <form id="input_form" >
	        <h2>Enter Item Details </h6>
	        
	        <hr>
	        <br>
	        
	        <input type="date" id="currentDate" placeholder="mm/dd/yyyy" onchange="resetAll()">
    	    <br> <br>	
	
	        <input type="text" id="itemName" placeholder="Item Name"> 
	
	        <br> <br> 
	
	        <input type="number" id="cost" placeholder="Price">
	        <br> <br>
	
	        <button type="submit" onclick="add()">Add</button>
	
	        <br>
	        <br>
	    </form>
	    

</body>

<script>

    var form = document.getElementById("output_form");
    function handleForm(event) { event.preventDefault(); } 
    form.addEventListener('submit', handleForm);

    var form2 = document.getElementById("input_form");
    function handleForm2(event) { event.preventDefault(); } 
    form2.addEventListener('submit', handleForm2);

    var infoTable =document.getElementById("table");
    
    function add() {
      
    	 infoTable.style.border="1.5px solid black"
    	 
    	 var itemName=document.getElementById("itemName")
         var name=itemName.value

         var itemCost=document.getElementById("cost")
         var cost=Number(itemCost.value)        
       
         var currDate = new Date(document.getElementById("currentDate").value);
         document.getElementById("date").innerHTML=currDate.getDate()+" /"+(currDate.getMonth()+1)+" /"+currDate.getFullYear()

         var tr=document.createElement("tr")
         //added name to all rows 
         tr.name="ItemName";
         
         tr.innerHTML="Item Name:"+name+"&#8287 Price: "+cost+" "+'&#8287 <i class="fa fa-edit "></i>'+" "+'&#8287<i class="fa fa-trash" ></i>'

         var totalCost= Number(document.getElementById("total").innerHTML)+cost;

         document.getElementById("table").appendChild(tr)
         document.getElementById("total").innerHTML=totalCost;

         itemName.value=itemName.defaultValue
         itemCost.value=itemCost.defaultValue

    }
    
    function resetAll() {
        infoTable.innerHTML=""
        infoTable.style.border="none"
    }


</script>
			

</html>